<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:HealthHelper.ViewModels"
             x:Class="HealthHelper.Views.InputView"
             x:DataType="vm:InputViewModel">

    <UserControl.Styles>
        <!-- åŸºç¡€æŒ‰é’®æ ·å¼ -->
        <Style Selector="Button">
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="Padding" Value="12,6"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="Opacity" Value="1.0"/>
        </Style>
        <Style Selector="Button:pointerover">
            <Setter Property="Opacity" Value="1.0"/>
        </Style>

        <Style Selector="Button.record-button">
            <Setter Property="Background" Value="#4CAF50"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Opacity" Value="1.0"/>
        </Style>
        <Style Selector="Button.record-button:pointerover">
            <Setter Property="Background" Value="#4CAF50"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Opacity" Value="1.0"/>
        </Style>
        <Style Selector="Button.back-home">
            <Setter Property="Background" Value="#E0E0E0"/>
            <Setter Property="Foreground" Value="#666666"/>
            <Setter Property="Opacity" Value="1.0"/>
        </Style>
        <Style Selector="Button.back-home:pointerover">
            <Setter Property="Background" Value="#E0E0E0"/>
            <Setter Property="Foreground" Value="#666666"/>
            <Setter Property="Opacity" Value="1.0"/>
        </Style>
        <Style Selector="Button.generate-advice">
            <Setter Property="Background" Value="#4CAF50"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Opacity" Value="1.0"/>
        </Style>
        <Style Selector="Button.generate-advice:pointerover">
            <Setter Property="Background" Value="#4CAF50"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Opacity" Value="1.0"/>
        </Style>
        <Style Selector="Button.view-history">
            <Setter Property="Background" Value="#2196F3"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Opacity" Value="1.0"/>
        </Style>
        <Style Selector="Button.view-history:pointerover">
            <Setter Property="Background" Value="#2196F3"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Opacity" Value="1.0"/>
        </Style>
    </UserControl.Styles>

    <ScrollViewer Background="Transparent">
        <StackPanel Margin="24" Spacing="18">
            <TextBlock Text="ä»Šæ—¥å¥åº·æ•°æ®å½•å…¥" FontSize="28" FontWeight="SemiBold" Foreground="#2E7D32"/>
            <TextBlock Text="{Binding StatusMessage}" Foreground="#666666" TextWrapping="Wrap"/>
            <TextBlock x:Name="StorageStatusBlock" Foreground="#999999" FontSize="12"/>

            <Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto,Auto" ColumnSpacing="16" RowSpacing="16">
                <Border Grid.Row="0" Grid.Column="0" Padding="12" BorderBrush="#DDDDDD" BorderThickness="1" CornerRadius="6">
                    <StackPanel Spacing="8">
                        <TextBlock Text="ç¡çœ è®°å½•" FontWeight="SemiBold" Foreground="#2E7D32"/>
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <TextBlock Text="å…¥ç¡ (HH:mm)" Width="110" Foreground="#333333"/>
                            <TextBox Width="120" Text="{Binding BedTimeInput}" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <TextBlock Text="èµ·åºŠ (HH:mm)" Width="110" Foreground="#333333"/>
                            <TextBox Width="120" Text="{Binding WakeTimeInput}" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <TextBlock Text="è´¨é‡ (1-10)" Width="110" Foreground="#333333"/>
                            <TextBox Width="120" Text="{Binding SleepQualityInput}" />
                        </StackPanel>
                        <Button Classes="record-button" Content="è®°å½•ç¡çœ " Command="{Binding RecordSleepCommand}"/>
                        <TextBlock Text="{Binding SleepStatusMessage}" Foreground="#666666"/>
                    </StackPanel>
                </Border>

                <Border Grid.Row="0" Grid.Column="1" Padding="12" BorderBrush="#DDDDDD" BorderThickness="1" CornerRadius="6">
                    <StackPanel Spacing="8">
                        <TextBlock Text="é¥®æ°´è®°å½•" FontWeight="SemiBold" Foreground="#2E7D32"/>
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <TextBlock Text="æ¯æ—¥ç›®æ ‡" Width="110" Foreground="#333333"/>
                            <TextBlock Text="{Binding HydrationTargetDisplay}" Foreground="#666666"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <TextBlock Text="å·²é¥® (ml)" Width="110" Foreground="#333333"/>
                            <TextBox Width="120" Text="{Binding HydrationConsumedInput}" />
                        </StackPanel>
                        <Button Classes="record-button" Content="è®°å½•é¥®æ°´" Command="{Binding RecordHydrationCommand}"/>
                        <TextBlock Text="{Binding HydrationStatusMessage}" Foreground="#666666"/>
                    </StackPanel>
                </Border>

                <Border Grid.Row="1" Grid.ColumnSpan="2" Padding="12" BorderBrush="#DDDDDD" BorderThickness="1" CornerRadius="6">
                    <StackPanel Spacing="8">
                        <TextBlock Text="è¿åŠ¨è®°å½•" FontWeight="SemiBold" Foreground="#2E7D32"/>
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <TextBlock Text="è¿åŠ¨ (åˆ†é’Ÿ)" Width="110" Foreground="#333333"/>
                            <TextBox Width="120" Text="{Binding WorkoutMinutesInput}" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <TextBlock Text="ä¹…å (åˆ†é’Ÿ)" Width="110" Foreground="#333333"/>
                            <TextBox Width="120" Text="{Binding SedentaryMinutesInput}" />
                        </StackPanel>
                        <Button Classes="record-button" Content="è®°å½•è¿åŠ¨" Command="{Binding RecordActivityCommand}"/>
                        <TextBlock Text="{Binding ActivityStatusMessage}" Foreground="#666666"/>
                    </StackPanel>
                </Border>
            </Grid>

            <StackPanel Orientation="Horizontal" Spacing="12">
                <Button Classes="back-home" Content="â¬…ï¸ è¿”å›žé¦–é¡µ"
                        Command="{Binding GoBackCommand}"/>
                <Button Classes="generate-advice" Content="ç”Ÿæˆå¥åº·å»ºè®®"
                        Command="{Binding GenerateAdviceCommand}"
                        IsEnabled="{Binding CanGenerateAdvice}"/>
                <Button Classes="view-history" Content="ðŸ“‹ æŸ¥çœ‹åŽ†å²è®°å½•"
                        Command="{Binding ViewHistoryCommand}"/>
                <ProgressBar Width="150" IsIndeterminate="{Binding IsBusy}" IsVisible="{Binding IsBusy}"/>
            </StackPanel>
        </StackPanel>
    </ScrollViewer>
</UserControl>


